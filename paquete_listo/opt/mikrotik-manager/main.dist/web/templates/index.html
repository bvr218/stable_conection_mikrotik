{% extends 'layout.html' %}
{% block content %}
<div class="card">
    <div class="card-header bg-dark text-white">
        <h5 class="mb-0">Estado de Servicios</h5>
    </div>
    <ul class="list-group list-group-flush">
        <li class="list-group-item d-flex justify-content-between align-items-center">
            Base de Datos (NetFlow)
            <span class="badge bg-secondary rounded-pill">{{ status.get('database', 'Desconocido') | safe }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
            Captura NetFlow (nfcapd)
            <span class="badge bg-secondary rounded-pill">{{ status.get('nfcapd', 'Desconocido') | safe }}</span>
        </li>
        <li class="list-group-item d-flex justify-content-between align-items-center">
            Procesador de Flujos
            <span class="badge bg-secondary rounded-pill">{{ status.get('processor', 'Desconocido') | safe }}</span>
        </li>
    </ul>
</div>

<script>


function updateDeviceStatus() {
    $.get("/api/device-status", function(data) {
        $("#device-status").html(data);
    });
}

// Ejecutar al cargar la p√°gina
cargarDispositivos();
setInterval(updateDeviceStatus, 5000);
</script>
{% endblock %}
